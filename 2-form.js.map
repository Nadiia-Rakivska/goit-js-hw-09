{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: \"\",\n  message: \"\"\n}\n\nconst feedbackFormElem = document.querySelector(\".feedback-form\");\nfeedbackFormElem.addEventListener(\"input\", e => {\n  const email = e.currentTarget.elements.email.value.trim();\n  const message = e.currentTarget.elements.message.value.trim();  \n  formData.email = email;\n  formData.message = message;\n  if (email||message) {\n     saveToLs(\"feedback-form-state\", formData);\n  }\n\n})\n\nfunction saveToLs(key, value) {\n  const formDataJson = JSON.stringify(value);\n  localStorage.setItem(\"feedback-form-state\", formDataJson);\n}\n\nfunction getFromLs(key) {\n  try {\n    const data = JSON.parse(localStorage.getItem(\"feedback-form-state\"));    \n    return data;\n  }catch {}\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const lsData = getFromLs(\"feedback-form-state\");\n  try {\n    formData.email = lsData.email;\n    formData.message = lsData.message;\n    feedbackFormElem.elements.email.value = lsData.email;\n    feedbackFormElem.elements.message.value = lsData.message;\n  } catch {}\n});\n\nfeedbackFormElem.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  const form = e.currentTarget;\n  if (formData.email && formData.message) {  \n    console.log(formData);    \n    formData.email = \"\";\n    formData.message = \"\";\n    form.reset();\n    localStorage.removeItem(\"feedback-form-state\");\n  }\n  else {\n    alert(\"Fill please all fields\")\n  }\n})"],"names":["formData","feedbackFormElem","email","message","saveToLs","key","value","formDataJson","getFromLs","lsData","form"],"mappings":"wFAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAmB,SAAS,cAAc,gBAAgB,EAChEA,EAAiB,iBAAiB,QAAS,GAAK,CAC9C,MAAMC,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACvDH,EAAS,MAAQE,EACjBF,EAAS,QAAUG,GACfD,GAAOC,IACRC,EAAS,sBAAuBJ,CAAQ,CAG7C,CAAC,EAED,SAASI,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAe,KAAK,UAAUD,CAAK,EACzC,aAAa,QAAQ,sBAAuBC,CAAY,CAC1D,CAEA,SAASC,EAAUH,EAAK,CACtB,GAAI,CAEF,OADa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAEvE,MAAS,CAAE,CACX,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMI,EAASD,EAA+B,EAC9C,GAAI,CACFR,EAAS,MAAQS,EAAO,MACxBT,EAAS,QAAUS,EAAO,QAC1BR,EAAiB,SAAS,MAAM,MAAQQ,EAAO,MAC/CR,EAAiB,SAAS,QAAQ,MAAQQ,EAAO,OAClD,MAAO,CAAE,CACZ,CAAC,EAEDR,EAAiB,iBAAiB,SAAU,GAAK,CAC/C,EAAE,eAAc,EAChB,MAAMS,EAAO,EAAE,cACXV,EAAS,OAASA,EAAS,SAC7B,QAAQ,IAAIA,CAAQ,EACpBA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBU,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,GAG7C,MAAM,wBAAwB,CAElC,CAAC"}